!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ngx-autosize",["exports","@angular/core","rxjs","rxjs/operators"],e):e(t["ngx-autosize"]={},t.ng.core,t.rxjs,t.rxjs.operators)}(this,function(t,e,o,i){"use strict";var n=function(){function t(t,e){this.element=t,this._zone=e,this.onlyGrow=!1,this.useImportant=!1,this.retries=0,this._destroyed$=new o.ReplaySubject(1),"TEXTAREA"!==this.element.nativeElement.tagName?this._findNestedTextArea():(this.textAreaEl=this.element.nativeElement,this.textAreaEl.style.overflow="hidden",this._onTextAreaFound())}return t.prototype.onInput=function(t){this.adjust()},t.prototype.ngOnDestroy=function(){this._destroyed$.next(!0),this._destroyed$.complete()},t.prototype.ngAfterContentChecked=function(){this.adjust()},t.prototype.ngOnChanges=function(t){this.adjust(!0)},t.prototype._findNestedTextArea=function(){var t=this;this.textAreaEl=this.element.nativeElement.querySelector("TEXTAREA"),!this.textAreaEl&&this.element.nativeElement.shadowRoot&&(this.textAreaEl=this.element.nativeElement.shadowRoot.querySelector("TEXTAREA")),this.textAreaEl?(this.textAreaEl.style.overflow="hidden",this._onTextAreaFound()):3<=this.retries?console.warn("ngx-autosize: textarea not found"):(this.retries++,setTimeout(function(){t._findNestedTextArea()},100))},t.prototype._onTextAreaFound=function(){var t=this;this._zone.runOutsideAngular(function(){o.fromEvent(window,"resize").pipe(i.takeUntil(t._destroyed$),i.debounceTime(200),i.distinctUntilChanged()).subscribe(function(){t._zone.run(function(){t.adjust()})})}),setTimeout(function(){t.adjust()})},t.prototype.adjust=function(t){if(void 0===t&&(t=!1),this.textAreaEl){var e=this.textAreaEl.value;if(!1===t&&e===this._oldContent&&this.textAreaEl.offsetWidth===this._oldWidth)return;this._oldContent=e,this._oldWidth=this.textAreaEl.offsetWidth;var o=this.textAreaEl.cloneNode(!0),i=this.textAreaEl.parentNode;o.style.visibility="hidden",i.appendChild(o),o.style.overflow="auto",o.style.height="auto";var n=o.scrollHeight,r=n>this.textAreaEl.offsetHeight;if(!1===this.onlyGrow||r){var s=this._getLineHeight(),a=n/s,u="";this.minRows&&this.minRows>=a?n=this.minRows*s:this.maxRows&&this.maxRows<=a?(n=this.maxRows*s,u+="overflow: auto;"):u+="overflow: hidden;",u+="height: "+n+"px",u+=this.useImportant?"!important;":";",this.textAreaEl.setAttribute("style",u)}i.removeChild(o)}},t.prototype._getLineHeight=function(){var t=parseInt(this.textAreaEl.style.lineHeight,10);if(isNaN(t)&&window.getComputedStyle){var e=window.getComputedStyle(this.textAreaEl);t=parseInt(e.lineHeight,10)}if(isNaN(t)){var o=window.getComputedStyle(this.textAreaEl,null).getPropertyValue("font-size");t=Math.floor(1.5*parseInt(o.replace("px",""),10))}return t},t.decorators=[{type:e.Directive,args:[{selector:"[autosize]"}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:e.NgZone}]},t.propDecorators={minRows:[{type:e.Input}],maxRows:[{type:e.Input}],onlyGrow:[{type:e.Input}],useImportant:[{type:e.Input}],onInput:[{type:e.HostListener,args:["input",["$event.target"]]}]},t}(),r=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[n],imports:[],exports:[n]}]}],t}();t.AutosizeDirective=n,t.AutosizeModule=r,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-autosize.umd.min.js.map