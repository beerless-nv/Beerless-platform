!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/forms")):"function"==typeof define&&define.amd?define("ngx-dropdown-list",["exports","@angular/core","@angular/common","@angular/forms"],t):t(e["ngx-dropdown-list"]={},e.ng.core,e.ng.common,e.ng.forms)}(this,function(e,t,n,o){"use strict";function s(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function a(e){return!!e&&null!=e.find(function(e){return e.group})}function i(e){var t,n;if(a(e))try{for(var o=s(e),i=o.next();!i.done;i=o.next()){var r=i.value;r.items&&r.items.filter(function(e){return e.selected}).forEach(function(e){return e.selected=!1})}}catch(c){t={error:c}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(t)throw t.error}}else e.filter(function(e){return e.selected}).forEach(function(e){return e.selected=!1})}function r(e){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault()}function c(e){return!(null==e||isNaN(e)||0===e.length)}function l(e){var t,n,o;if(!e)return undefined;if(a(e))try{for(var i=s(e),r=i.next();!r.done;r=i.next()){var c=r.value;if(o=c.items?c.items.find(function(e){return e.selected}):undefined)break}}catch(l){t={error:l}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(t)throw t.error}}else o=e?e.find(function(e){return e.selected}):undefined;return o}var p=function(){function e(){this.multiSelection=!1,this.filterBox=!1,this.allowClear=!0,this.formatNumber=!1,this.selectedValueChange=new t.EventEmitter(!0),this.selectionChange=new t.EventEmitter(!0),this.dropdownVisibility=!1}return Object.defineProperty(e.prototype,"selectedText",{get:function(){if(!this.multiSelection){var e=l(this.items);return e?e.text:undefined}},enumerable:!0,configurable:!0}),e.prototype.onSelectionChange=function(e){this.selectedValueChange.emit(e),this.selectionChange.emit(e)},e.prototype.onAnchorClick=function(e){this.disabled||(this._isSelectionOpen()?this._hideItemList():this._showItemsList()),r(e)},e.prototype.onItemClick=function(){this.multiSelection||this._hideItemList()},e.prototype.onClearanceClick=function(e){this.multiSelection||(this.selectedValue=void 0,this.selectedValueChange.emit(undefined),this.selectionChange.emit(undefined),i(this.items)),r(e)},e.prototype.onItemsBlur=function(){this._isSelectionOpen()&&this._hideItemList()},e.prototype._hideItemList=function(){this._dropdownElement.classList.remove("visible"),this._dropdownElement.style.display="none",this.dropdownVisibility=!1},e.prototype._showItemsList=function(){this._dropdownElement.classList.add("visible"),this._dropdownElement.style.display="block",this.dropdownVisibility=!0,this._selectedElement&&this._selectedElement.scrollIntoView({behavior:"instant",block:"center"}),this.filterBox&&!this.multiSelection?this._filterInputElement.focus():this._dropdownElement.focus()},e.prototype._isSelectionOpen=function(){return this.dropdownVisibility},Object.defineProperty(e.prototype,"_dropdownElement",{get:function(){return this.dropdownRef&&this.dropdownRef.nativeElement?this.dropdownRef.nativeElement.firstElementChild:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_filterInputElement",{get:function(){return this._dropdownElement&&this._dropdownElement.firstElementChild?this._dropdownElement.firstElementChild.firstElementChild:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_selectedElement",{get:function(){var e=l(this.items);return e?document.getElementById(e.id):undefined},enumerable:!0,configurable:!0}),e.decorators=[{type:t.Component,args:[{selector:"ngx-dropdown-list",template:'\n    <span class="ngx-select">\n        <anchor (anchorClick)="onAnchorClick($event)" (clearanceClick)="onClearanceClick($event)"\n                [checkbox]="multiSelection"\n                [formatNumber]="formatNumber"\n                [suffixText]="suffixText"\n                [placeHolder]="placeHolder"\n                [allowClear]="allowClear"\n                [openStatus]="dropdownVisibility"\n                [selectedText]="selectedText"\n                [disabled]="disabled">\n        </anchor>\n        <dropdown #dropdown (dropdownBlur) = "onItemsBlur()" (selectionChange)="onSelectionChange($event)"\n                [items]="items"\n                [checkbox]="multiSelection"\n                [filterBox]="filterBox"\n                [formatNumber]="formatNumber"\n                [suffixText]="suffixText"\n                [(selectedValue)]="selectedValue"\n                (itemClick) = "onItemClick()"\n                [disabled]="disabled">\n        </dropdown>\n    </span>\n  ',styles:[":host *,:host :after,:host :before{font-size:inherit;font-weight:inherit;font-family:inherit;box-sizing:inherit;background:inherit}:host .ngx-select{border-radius:4px;font-size:14px;position:relative;display:inline-block;width:100%;height:34px;background:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}"]}]}],e.propDecorators={dropdownRef:[{type:t.ViewChild,args:["dropdown",{read:t.ElementRef}]}],placeHolder:[{type:t.Input}],items:[{type:t.Input}],multiSelection:[{type:t.Input}],selectedValue:[{type:t.Input}],filterBox:[{type:t.Input}],suffixText:[{type:t.Input}],disabled:[{type:t.Input}],allowClear:[{type:t.Input}],formatNumber:[{type:t.Input}],selectedValueChange:[{type:t.Output}],selectionChange:[{type:t.Output}]},e}(),u=function(){function e(){this.formatNumber=!1,this.itemClick=new t.EventEmitter,this.checkStatusChange=new t.EventEmitter}return e.prototype.needFormatNumber=function(e){return c(e)&&this.formatNumber},e.prototype.onItemClick=function(e){this.itemClick.emit(e)},e.prototype.onCheckStatusChange=function(e){this.checkStatusChange.emit(e)},e.decorators=[{type:t.Component,args:[{selector:"item",template:'\n    <label [class.container-checkbox]="checkbox"\n           [class.container-selection]="!checkbox && !item.selected"\n           [class.container-selection-selected]="!checkbox && item.selected"\n           [id]="item.id" (mousedown)="onItemClick(item)">\n      {{needFormatNumber(item.text)? (item.text | number:\'1.0-2\') : item.text}}{{suffixText? suffixText : \'\'}}\n      <ng-container *ngIf="checkbox">\n        <input type=\'checkbox\' [id]="\'checkbox-\'+item.text" (change)="onCheckStatusChange(item)" [checked]="item.selected">\n        <span class="checkmark" [id]="\'checkmark-\'+item.text"></span>\n      </ng-container>\n    </label>',styles:['*,:after,:before{font-size:inherit;font-weight:inherit;font-family:inherit;box-sizing:inherit;background:inherit}.container-checkbox,.container-selection,.container-selection-selected,.dropdown-item{background:0 0;display:list-item;list-style:none;position:relative;width:100%;height:auto;cursor:pointer;color:#495057;padding-bottom:5px;padding-top:5px;padding-left:12px}.container-checkbox{padding-left:35px}.container-checkbox input{position:absolute;opacity:0;cursor:pointer}.container-checkbox .checkmark{position:absolute;top:5px;left:10px;height:15px;width:15px;border:1px solid rgba(0,0,0,.3);background-color:#fff;border-radius:4px}.container-checkbox .checkmark:after{content:"";position:absolute;display:none;left:5px;top:2px;width:4px;height:7px;border:solid #fff;border-width:0 2px 2px 0;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.container-checkbox:hover input~.checkmark{background-color:#ccc}.container-checkbox input:checked~.checkmark{background-color:#2196f3;border:1px solid #2196f3}.container-checkbox input:checked~.checkmark:after{display:block}.container-checkbox:hover{color:#66afe9}.container-selection,.container-selection-selected{padding-left:12px}.container-selection-selected:hover,.container-selection:hover{color:#495057;background:#e0ffff}.container-selection-selected{color:#fff;background:#6495ed}']}]}],e.propDecorators={checkbox:[{type:t.Input}],item:[{type:t.Input}],formatNumber:[{type:t.Input}],suffixText:[{type:t.Input}],itemClick:[{type:t.Output}],checkStatusChange:[{type:t.Output}]},e}(),d=function(){function e(){}return e.prototype.onItemGroupClick=function(e){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault()},e.decorators=[{type:t.Component,args:[{selector:"group-item",template:'\n    <label class="dropdown-item dropdown-item-group" (mousedown)="onItemGroupClick($event)">{{item.group}}</label>\n  ',styles:['*,:after,:before{font-size:inherit;font-weight:inherit;font-family:inherit;box-sizing:inherit;background:inherit}.container-checkbox,.container-selection,.container-selection-selected,.dropdown-item{background:0 0;display:list-item;list-style:none;position:relative;width:100%;height:auto;cursor:pointer;color:#495057;padding-bottom:5px;padding-top:5px;padding-left:12px}.container-checkbox{padding-left:35px}.container-checkbox input{position:absolute;opacity:0;cursor:pointer}.container-checkbox .checkmark{position:absolute;top:5px;left:10px;height:15px;width:15px;border:1px solid rgba(0,0,0,.3);background-color:#fff;border-radius:4px}.container-checkbox .checkmark:after{content:"";position:absolute;display:none;left:5px;top:2px;width:4px;height:7px;border:solid #fff;border-width:0 2px 2px 0;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.container-checkbox:hover input~.checkmark{background-color:#ccc}.container-checkbox input:checked~.checkmark{background-color:#2196f3;border:1px solid #2196f3}.container-checkbox input:checked~.checkmark:after{display:block}.container-checkbox:hover{color:#66afe9}.container-selection,.container-selection-selected{padding-left:12px}.container-selection-selected:hover,.container-selection:hover{color:#495057;background:#e0ffff}.container-selection-selected{color:#fff;background:#6495ed}.dropdown-item-group{font-weight:700}.dropdown-item-group:hover{cursor:default}']}]}],e.propDecorators={item:[{type:t.Input}]},e}(),h=function(){function e(){this.inputFilterBlur=new t.EventEmitter,this.filterValueChange=new t.EventEmitter}return e.prototype.onFilterTextBlur=function(e){this.inputFilterBlur.emit(e)},e.prototype.onChange=function(){this.filterValueChange.emit(this.filterValue)},e.decorators=[{type:t.Component,args:[{selector:"input-filter",template:'\n    <input type="text" class="filter-box" [(ngModel)]="filterValue" (input)="onChange()" (blur)="onFilterTextBlur($event)">\n  ',styles:["*,:after,:before{font-size:inherit;font-weight:inherit;font-family:inherit;box-sizing:inherit;background:inherit}.filter-box{width:calc(100% - 10px);height:28px;border-radius:4px;border:1px solid #ccc;margin:1px 5px 5px;padding-left:5px;font-size:12px;box-sizing:border-box;color:#495057}.filter-box:focus{outline:0;border-color:#ccc}"]}]}],e.propDecorators={filterValue:[{type:t.Input}],inputFilterBlur:[{type:t.Output}],filterValueChange:[{type:t.Output}]},e}(),f=function(){function e(e){this._decimalPipe=e,this.checkbox=!1,this.allowClear=!0,this.openStatus=!1,this.disabled=!1,this.anchorClick=new t.EventEmitter,this.clearanceClick=new t.EventEmitter}return Object.defineProperty(e.prototype,"showClearanceFlag",{get:function(){return!this.checkbox&&this.selectedText&&this.allowClear},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorDisplayText",{get:function(){var e=this.selectedText?(this.formatNumber&&c(this.selectedText)?this._decimalPipe.transform(this.selectedText,"1.0-2"):this.selectedText)+(this.suffixText?this.suffixText:""):this.placeHolder,t=1;return t=(this.showClearanceFlag&&this.anchorLength,Math.floor((this.anchorLength-50)/7)),e.length>t&&(e=e.slice(0,t-2)+"..."),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorClass",{get:function(){var e,t;return t=this.disabled?(e="selection-anchor-disabled","place-holder"):(e=this.openStatus?"selection-anchor-open":"selection-anchor-close",null!=this.selectedText?"selected-item":"place-holder"),e+" "+t},enumerable:!0,configurable:!0}),e.prototype.onAnchorClick=function(e){this.anchorClick.emit(e)},e.prototype.onAnchorBlur=function(e){r(e)},e.prototype.onClearanceClick=function(e){this.clearanceClick.emit(e)},e.prototype.onResize=function(){this.anchorLength=this.anchorRef&&this.anchorRef.nativeElement?this.anchorRef.nativeElement.clientWidth:0},e.decorators=[{type:t.Component,args:[{selector:"anchor",template:'\n    <span #anchor tabindex="2" [ngClass]="anchorClass" (window:resize)="onResize()"\n          (mousedown)="onAnchorClick($event)" (blur)="onAnchorBlur($event)"> {{anchorDisplayText}}\n      <span #selectionClearance class="selection-clearance" (mousedown)="onClearanceClick($event)" *ngIf="showClearanceFlag">&times;</span>\n    </span>\n  ',providers:[n.DecimalPipe],styles:["*,:after,:before{font-size:inherit;font-weight:inherit;font-family:inherit;box-sizing:inherit;background:inherit}.selection-anchor-close:after,.selection-anchor-disabled:after,.selection-anchor-open:after,.vertical-center{position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.hover-box,.selection-anchor-close:hover{outline:0;box-shadow:0 0 6px #23adff;border-radius:4px}.anchor-box,.selection-anchor,.selection-anchor-close,.selection-anchor-disabled,.selection-anchor-open{height:100%;border-radius:4px;width:100%;position:relative;display:inline-block;padding:8px 12px 5px;border:1px solid;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-sizing:border-box;white-space:nowrap}.selection-anchor,.selection-anchor-close,.selection-anchor-open{cursor:pointer}.selection-anchor .selection-clearance,.selection-anchor-close .selection-clearance,.selection-anchor-open .selection-clearance{position:absolute;right:35px;font-weight:700}.selection-anchor .selection-clearance:hover,.selection-anchor-close .selection-clearance:hover,.selection-anchor-open .selection-clearance:hover{color:#000}.selection-anchor-close:focus,.selection-anchor-open:focus,.selection-anchor:focus{box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;border-color:#66afe9}.selection-anchor-disabled{border-color:#ccc;cursor:default;pointer-events:none;background:#f8f8f8;-webkit-filter:opacity(50%);filter:opacity(50%)}.selection-anchor-disabled:after{font-size:12px;content:'\\0023F7';right:10px;padding-bottom:3px}.selection-anchor-open{border-bottom:none;border-bottom-right-radius:0;border-bottom-left-radius:0;border-color:#66afe9}.selection-anchor-open:after{font-size:12px;content:\"\\0023F6\";right:10px;padding-bottom:3px}.selection-anchor-close{border-color:#ccc}.selection-anchor-close:after{font-size:12px;content:'\\0023F7';right:10px;padding-bottom:3px}.place-holder{color:#999}.selected-item{color:#495057}"]}]}],e.ctorParameters=function(){return[{type:n.DecimalPipe}]},e.propDecorators={anchorRef:[{type:t.ViewChild,args:["anchor",{read:t.ElementRef}]}],placeHolder:[{type:t.Input}],checkbox:[{type:t.Input}],suffixText:[{type:t.Input}],allowClear:[{type:t.Input}],formatNumber:[{type:t.Input}],selectedText:[{type:t.Input}],openStatus:[{type:t.Input}],disabled:[{type:t.Input}],anchorClick:[{type:t.Output}],clearanceClick:[{type:t.Output}]},e}(),m=function(){function e(){this.checkbox=!1,this.filterBox=!1,this.allowClear=!0,this.formatNumber=!1,this.selectedValueChange=new t.EventEmitter(!0),this.selectionChange=new t.EventEmitter(!0),this.dropdownBlur=new t.EventEmitter,this.itemClick=new t.EventEmitter,this._clickedItems=!1}return e.prototype.ngOnChanges=function(e){e.items&&this._checkSelectionChange(e.items.previousValue,e.items.currentValue)},e.prototype.onItemsClick=function(e){e.offsetX>e.target.clientWidth+e.target.clientLeft?r(e):this.checkbox&&"text"!==e.target.type&&(this._clickedItems=!0)},e.prototype.onItemClick=function(e){this.checkbox||(this.selectedValue=this._getItemValue(e),i(this.items),e.selected=!0,this.itemClick.emit(e),this._onSelectionChange(this.selectedValue))},e.prototype.onFilterTextBlur=function(e){this.dropdownBlur.emit(e)},e.prototype.onItemsBlur=function(e){if(this.checkbox&&this._clickedItems)return e.target.focus(),void(this._clickedItems=!1);this.dropdownBlur.emit(e)},e.prototype.toggleSelection=function(e){e.selected=!e.selected,this.selectionChange.emit(this._getItemValue(e))},Object.defineProperty(e.prototype,"itemsValues",{get:function(){var n;if(this.filterValue&&(n=this.filterValue.toUpperCase()),null==n)return this.items;if(!this.items||0===this.items.length)return[];if(a(this.items)){var o=[];return this.items.forEach(function(e){if(null!=e.group&&e.group.toString().toUpperCase().includes(n))o.push(e);else{var t=e.items.filter(function(e){return null!=e.text&&e.text.toString().toUpperCase().includes(n)});t&&0<t.length&&o.push({group:e.group,items:t})}}),o}return this.items.filter(function(e){return null!=e.text&&e.text.toString().toUpperCase().includes(n)})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"optionsClass",{get:function(){return this.filterBox&&!this.checkbox?"options with-filter":"options no-filter"},enumerable:!0,configurable:!0}),e.prototype._getItemValue=function(e){return e?null!=e.value?e.value:e.text:undefined},e.prototype._onSelectionChange=function(e){this.selectedValueChange.emit(e),this.selectionChange.emit(e)},e.prototype._checkSelectionChange=function(e,t){var n=l(t),o=l(e);(n?n.id:undefined)===(o?o.id:undefined)||this.checkbox||this._onSelectionChange(this._getItemValue(n))},e.decorators=[{type:t.Component,args:[{selector:"dropdown",template:'\n    <span #dropdown class="dropdown" tabindex="3" (mousedown)="onItemsClick($event)" (blur)="onItemsBlur($event)" *ngIf="!disabled" >\n      <input-filter #filterInput tabindex="4" *ngIf="filterBox && !checkbox" [(filterValue)]="filterValue" (inputFilterBlur)="onFilterTextBlur($event)"></input-filter>\n      <span #selectionOptions [ngClass]="optionsClass">\n        <ng-container *ngFor="let item of itemsValues" >\n          <ng-container *ngIf="item && item.group">\n            <group-item [item]="item"></group-item>\n            <item *ngFor="let subItem of item.items" (itemClick)="onItemClick(subItem)" (checkStatusChange)="toggleSelection(subItem)"\n                  [item]="subItem" [checkbox]="checkbox" [formatNumber]="formatNumber" [suffixText]="suffixText">\n            </item>\n          </ng-container>\n          <ng-container *ngIf="item && !item.group">\n            <item (itemClick)="onItemClick(item)" (checkStatusChange)="toggleSelection(item)"\n                  [item]="item" [checkbox]="checkbox" [formatNumber]="formatNumber" [suffixText]="suffixText">\n            </item>\n          </ng-container>\n        </ng-container>\n      </span>\n    </span>\n  ',styles:["*,:after,:before{font-size:inherit;font-weight:inherit;font-family:inherit;box-sizing:inherit;background:inherit}.dropdown{width:100%;padding:0;display:none;margin:0;border:1px solid #66afe9;border-top:none;border-bottom:none;border-top-right-radius:0;border-top-left-radius:0;box-sizing:border-box;position:relative;z-index:999}.dropdown:focus{outline:0}.dropdown .options{width:calc(100% + 2px);left:0;box-sizing:border-box;background:#fff;position:absolute;max-height:228px;overflow-y:auto;overflow-x:hidden;border:1px solid #66afe9;border-top:none;border-bottom-right-radius:4px;border-bottom-left-radius:4px;margin-left:-1px;margin-right:-1px}.dropdown .with-filter{top:32px}.dropdown .no-filter{top:0}"]}]}],e.propDecorators={dropdownRef:[{type:t.ViewChild,args:["dropdown",{read:t.ElementRef}]}],filterInputRef:[{type:t.ViewChild,args:["filterInput",{read:t.ElementRef}]}],placeHolder:[{type:t.Input}],items:[{type:t.Input}],checkbox:[{type:t.Input}],selectedValue:[{type:t.Input}],filterBox:[{type:t.Input}],suffixText:[{type:t.Input}],disabled:[{type:t.Input}],allowClear:[{type:t.Input}],formatNumber:[{type:t.Input}],selectedValueChange:[{type:t.Output}],selectionChange:[{type:t.Output}],dropdownBlur:[{type:t.Output}],itemClick:[{type:t.Output}]},e}(),b=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{declarations:[p,u,d,h,f,m],exports:[p],imports:[n.CommonModule,o.FormsModule],providers:[],bootstrap:[]}]}],e}();e.DropdownListComponent=p,e.DropdownListModule=b,e.ɵd=f,e.ɵe=m,e.ɵc=h,e.ɵb=d,e.ɵa=u,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-dropdown-list.umd.min.js.map